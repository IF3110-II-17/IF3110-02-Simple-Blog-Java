<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
	<title>View Post</title>
	<f:metadata>
		<f:viewParam name="post_id" value="#{viewPost.id}" />
		<f:viewAction action="#{viewPost.execute}" />
	</f:metadata>
</h:head>

<h:body>
	<ui:composition template="common.xhtml">
		<ui:define name="content">
			<div class="col-md-8 col-md-offset-2">
				<h2 class="text-center">
					<h:outputText value="#{viewPost.title}" />
				</h2>
				<h4 class="text-center text-muted">
					<h:outputText value="#{viewPost.date}" />
				</h4>
				<p style="padding-top: 70px">
					<h:outputText value="#{viewPost.content}" />
				</p>
				<hr />
				<h2>Komentar</h2>
				<h:form styleClass="form-horizontal" role="form">
					<div class="form-group">
						<label for="inputNama" class="col-sm-2 control-label">Nama</label>
						<div class="col-sm-10">
							<h:inputText styleClass="form-control" id="inputNama"
								value="#{viewPost.name}" />
						</div>
					</div>
					<div class="form-group">
						<label for="email_area" class="col-sm-2 control-label">Email</label>
						<div class="col-sm-10">
							<h:inputText styleClass="form-control" id="email_area"
								value="#{viewPost.email}" />
						</div>
					</div>
					<div class="form-group">
						<label for="inputKomentar" class="col-sm-2 control-label">Komentar</label>
						<div class="col-sm-10">
							<h:inputTextarea styleClass="form-control" id="inputKomentar"
								value="#{viewPost.comment}" style="resize:none" rows="5" />
						</div>
					</div>
					<div class="form-group">
						<div class="col-sm-offset-2 col-sm-10">
							<h:commandButton value="Add Post" styleClass="btn btn-default"
								action="#{viewPost.postComment}">
								<f:ajax execute="@form" render="comments_part" />
							</h:commandButton>
						</div>
					</div>
				</h:form>
				<hr />
				
				<h:panelGroup id="comments_part">
					<ui:repeat value="#{viewPost.comments}" var="comment">
						<div class="row">
							<div class="col-xs-2 col-md-offset-1">
								<div class="row" style="font-size:16px"><strong>#{comment.name}</strong></div>
								<br/>
								<div class="row"><a href="mailto:#{comment.email}">#{comment.email}</a></div>
								<br/>
								<div class="row">#{comment.time}</div>
							</div>
							<div class="col-xs-5 col-md-offset-1">#{comment.content}</div>
						</div>
						<hr/>
					</ui:repeat>
				</h:panelGroup>

			</div>
			<br />
		</ui:define>
	</ui:composition>



</h:body>
</html>